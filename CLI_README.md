# tricolor-vue2-i18n

Vue2é¡¹ç›®å›½é™…åŒ–(i18n)è‡ªåŠ¨è½¬æ¢å‘½ä»¤è¡Œå·¥å…·ã€‚è‡ªåŠ¨æå–é¡¹ç›®ä¸­çš„ä¸­æ–‡æ–‡æœ¬ï¼Œè½¬æ¢ä¸ºi18né…ç½®ï¼Œå¹¶æ”¯æŒç”Ÿæˆå¤šè¯­è¨€åŒ…ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ è‡ªåŠ¨æå–Vue2é¡¹ç›®ä¸­çš„ä¸­æ–‡æ–‡æœ¬
- ğŸ”„ è‡ªåŠ¨å°†ä¸­æ–‡è½¬æ¢ä¸º`$t()`è°ƒç”¨
- ğŸŒ æ”¯æŒç”Ÿæˆå¤šè¯­è¨€åŒ…(en-usç­‰)
- ğŸ“¦ å¯é€‰çš„Element UIå¤šè¯­è¨€é…ç½®
- âœ… éªŒè¯é¡¹ç›®ä¸­æ˜¯å¦è¿˜æœ‰æœªè½¬æ¢çš„ä¸­æ–‡
- ğŸ“ ç”Ÿæˆè¯¦ç»†çš„è½¬æ¢æŠ¥å‘Šå’Œå¾…å¤„ç†ä»»åŠ¡åˆ—è¡¨

## å®‰è£…

### å…¨å±€å®‰è£…

```bash
npm install -g tricolor-vue2-i18n
```

### é¡¹ç›®å†…å®‰è£…

```bash
npm install --save-dev tricolor-vue2-i18n
```

## ä½¿ç”¨æŒ‡å—

### 1. åˆå§‹åŒ–é¡¹ç›®

åœ¨ä½ çš„Vue2é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
tricolor-vue2-i18n init
```

æ­¤å‘½ä»¤ä¼šï¼š
- è¯¢é—®æ˜¯å¦éœ€è¦Element UIå¤šè¯­è¨€é…ç½®
- æ‰«æé¡¹ç›®ä¸­çš„ä¸­æ–‡æ–‡æœ¬
- åœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ`output`æ–‡ä»¶å¤¹ï¼ŒåŒ…å«ï¼š
  - `lang/` - è¯­è¨€åŒ…æ–‡ä»¶å¤¹
    - `zh-cn/` - ä¸­æ–‡è¯­è¨€åŒ…æ¨¡å—
    - `index.js` - è¯­è¨€åŒ…å…¥å£æ–‡ä»¶
  - `i18n-extracted-*.json` - æå–çš„ä¸­æ–‡æ•°æ®
  - `translation-template.txt` - ç¿»è¯‘å¯¹ç…§æ¨¡æ¿

### 2. æ›¿æ¢ä¸­æ–‡ä¸ºi18nè°ƒç”¨

```bash
tricolor-vue2-i18n replace
```

æ­¤å‘½ä»¤ä¼šï¼š
- å°†é¡¹ç›®ä¸­çš„ä¸­æ–‡æ–‡æœ¬æ›¿æ¢ä¸º`$t('key')`è°ƒç”¨
- è‡ªåŠ¨å¯¼å…¥i18né…ç½®
- ç”Ÿæˆ`output/pending-tasks-*.md`æŠ¥å‘Šï¼Œåˆ—å‡ºéœ€è¦æ‰‹åŠ¨å¤„ç†çš„æƒ…å†µ

**æ³¨æ„**ï¼šè¿è¡Œæ­¤å‘½ä»¤å‰ä¼šè‡ªåŠ¨å¤‡ä»½æ–‡ä»¶åˆ°`backup`æ–‡ä»¶å¤¹

### 3. ç”Ÿæˆå…¶ä»–è¯­è¨€åŒ…

é¦–å…ˆï¼Œç¼–è¾‘`output/translation-template.txt`æ–‡ä»¶ï¼Œå¡«å†™å¯¹åº”çš„ç¿»è¯‘å†…å®¹ï¼š

```text
# ç¿»è¯‘å¯¹ç…§æ¨¡æ¿
# æ ¼å¼ï¼šä¸­æ–‡æ–‡æœ¬ = ç¿»è¯‘æ–‡æœ¬

ç”¨æˆ·ç®¡ç† = User Management
æ·»åŠ ç”¨æˆ· = Add User
åˆ é™¤ç”¨æˆ· = Delete User
```

ç„¶åè¿è¡Œï¼š

```bash
# ç”Ÿæˆè‹±æ–‡è¯­è¨€åŒ…(é»˜è®¤)
tricolor-vue2-i18n translate

# ç”Ÿæˆå…¶ä»–è¯­è¨€åŒ…
tricolor-vue2-i18n translate ja-jp  # æ—¥æ–‡
tricolor-vue2-i18n translate ko-kr  # éŸ©æ–‡
```

æ­¤å‘½ä»¤ä¼šæ ¹æ®`zh-cn`å’Œç¿»è¯‘æ¨¡æ¿ç”Ÿæˆå¯¹åº”è¯­è¨€çš„è¯­è¨€åŒ…æ–‡ä»¶å¤¹ã€‚

### 4. éªŒè¯è½¬æ¢ç»“æœ

```bash
tricolor-vue2-i18n verify
```

æ­¤å‘½ä»¤ä¼šï¼š
- æ‰«æé¡¹ç›®ä¸­æ‰€æœ‰æ–‡ä»¶
- æ£€æŸ¥æ˜¯å¦è¿˜æœ‰æœªè½¬æ¢çš„ä¸­æ–‡
- ç”Ÿæˆ`output/validation-report.md`éªŒè¯æŠ¥å‘Š

## é¡¹ç›®é›†æˆ

### åœ¨Vue2é¡¹ç›®ä¸­å¼•å…¥i18n

1. å®‰è£…ä¾èµ–ï¼š

```bash
npm install vue-i18n
```

2. å°†ç”Ÿæˆçš„`output/lang`æ–‡ä»¶å¤¹å¤åˆ¶åˆ°é¡¹ç›®çš„`src`ç›®å½•ä¸‹

3. åœ¨`main.js`ä¸­å¼•å…¥ï¼š

```javascript
import Vue from 'vue'
import App from './App.vue'
import i18n from './lang'

new Vue({
  i18n,
  render: h => h(App)
}).$mount('#app')
```

### Element UIé¡¹ç›®é›†æˆ

å¦‚æœåœ¨åˆå§‹åŒ–æ—¶é€‰æ‹©äº†Element UIé…ç½®ï¼Œ`lang/index.js`å·²åŒ…å«Element UIçš„å¤šè¯­è¨€é…ç½®ï¼Œåªéœ€ï¼š

```bash
npm install element-ui
```

ç„¶ååœ¨`main.js`ä¸­ï¼š

```javascript
import Vue from 'vue'
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'
import App from './App.vue'
import i18n from './lang'

Vue.use(ElementUI)

new Vue({
  i18n,
  render: h => h(App)
}).$mount('#app')
```

## å‘½ä»¤è¯¦è§£

### init

åˆå§‹åŒ–é¡¹ç›®ï¼Œç”Ÿæˆè¯­è¨€åŒ…é…ç½®å’Œç¿»è¯‘æ¨¡æ¿ã€‚

```bash
tricolor-vue2-i18n init
```

**äº¤äº’é€‰é¡¹**ï¼š
- æ˜¯å¦ç”Ÿæˆå¸¦Element UIå¤šè¯­è¨€é…ç½®çš„æ–‡ä»¶

### replace

å°†é¡¹ç›®ä¸­çš„ä¸­æ–‡æ›¿æ¢ä¸ºi18nè°ƒç”¨ã€‚

```bash
tricolor-vue2-i18n replace
```

**æ³¨æ„äº‹é¡¹**ï¼š
- ä¼šè‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶
- æŸäº›å¤æ‚è¡¨è¾¾å¼å¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´
- æŸ¥çœ‹`pending-tasks`æŠ¥å‘Šäº†è§£éœ€è¦æ‰‹åŠ¨å¤„ç†çš„æƒ…å†µ

### translate [lang]

ç”Ÿæˆå…¶ä»–è¯­è¨€åŒ…ã€‚

```bash
tricolor-vue2-i18n translate en-us    # ç”Ÿæˆè‹±æ–‡
tricolor-vue2-i18n translate ja-jp    # ç”Ÿæˆæ—¥æ–‡
```

**å‰ç½®æ¡ä»¶**ï¼š
- éœ€è¦å…ˆå¡«å†™`output/translation-template.txt`

### verify

éªŒè¯é¡¹ç›®ä¸­æ˜¯å¦è¿˜æœ‰æœªè½¬æ¢çš„ä¸­æ–‡ã€‚

```bash
tricolor-vue2-i18n verify
```

**è¾“å‡º**ï¼š
- ç»ˆç«¯æ˜¾ç¤ºéªŒè¯æ‘˜è¦
- `output/validation-report.md` - è¯¦ç»†éªŒè¯æŠ¥å‘Š

## é…ç½®è¯´æ˜

å·¥å…·ä¼šè‡ªåŠ¨å¤„ç†ä»¥ä¸‹ç±»å‹çš„æ–‡ä»¶ï¼š

**åŒ…å«çš„æ–‡ä»¶**ï¼š
- `.vue` æ–‡ä»¶
- `.js` æ–‡ä»¶
- `.ts` æ–‡ä»¶

**æ’é™¤çš„ç›®å½•**ï¼š
- `node_modules`
- `dist`
- `.git`
- `build`
- `public`
- `output`
- `lang`

## å¸¸è§é—®é¢˜

### 1. å¦‚ä½•å¤„ç†åŠ¨æ€æ–‡æœ¬ï¼Ÿ

å¯¹äºåŒ…å«å˜é‡çš„æ–‡æœ¬ï¼Œå·¥å…·ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå¸¦å‚æ•°çš„å½¢å¼ï¼š

```javascript
// åŸæ–‡æœ¬
`æ¬¢è¿æ‚¨ï¼Œ${user.name}`

// è½¬æ¢å
this.$t('User.æ¬¢è¿æ‚¨name', { name: user.name })
```

### 2. éƒ¨åˆ†æ–‡æœ¬æ²¡æœ‰è¢«æ›¿æ¢æ€ä¹ˆåŠï¼Ÿ

è¿è¡Œ`replace`å‘½ä»¤åï¼ŒæŸ¥çœ‹`output/pending-tasks-*.md`æ–‡ä»¶ï¼Œå…¶ä¸­åˆ—å‡ºäº†æ‰€æœ‰æœªè‡ªåŠ¨å¤„ç†çš„æƒ…å†µï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚

### 3. å¦‚ä½•ä¿®æ”¹ç”Ÿæˆçš„keyï¼Ÿ

ç”Ÿæˆçš„keyåœ¨`output/lang/zh-cn/`ä¸‹çš„å„ä¸ªæ¨¡å—æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ã€‚ä¿®æ”¹åéœ€è¦åŒæ­¥æ›´æ–°ï¼š
1. å¯¹åº”çš„è¯­è¨€åŒ…æ–‡ä»¶
2. å·²æ›¿æ¢çš„ä»£ç ä¸­çš„key

### 4. å¦‚ä½•åˆ‡æ¢è¯­è¨€ï¼Ÿ

```javascript
// åœ¨Vueç»„ä»¶ä¸­
this.$i18n.locale = 'en-US'  // åˆ‡æ¢åˆ°è‹±æ–‡
this.$i18n.locale = 'zh-CN'  // åˆ‡æ¢åˆ°ä¸­æ–‡
```

## å·¥ä½œæµç¨‹

æ¨èçš„å®Œæ•´å·¥ä½œæµç¨‹ï¼š

```bash
# 1. åˆå§‹åŒ–é¡¹ç›®
tricolor-vue2-i18n init

# 2. æ›¿æ¢ä¸­æ–‡
tricolor-vue2-i18n replace

# 3. æ£€æŸ¥pending-tasksï¼Œæ‰‹åŠ¨å¤„ç†ç‰¹æ®Šæƒ…å†µ
# æŸ¥çœ‹ output/pending-tasks-*.md

# 4. å¡«å†™ç¿»è¯‘æ¨¡æ¿
# ç¼–è¾‘ output/translation-template.txt

# 5. ç”Ÿæˆå…¶ä»–è¯­è¨€åŒ…
tricolor-vue2-i18n translate en-us

# 6. éªŒè¯è½¬æ¢ç»“æœ
tricolor-vue2-i18n verify

# 7. å°†output/langå¤åˆ¶åˆ°é¡¹ç›®srcç›®å½•
# cp -r output/lang src/

# 8. åœ¨é¡¹ç›®ä¸­é›†æˆi18né…ç½®
```

## è¾“å‡ºæ–‡ä»¶è¯´æ˜

### outputç›®å½•ç»“æ„

```
output/
â”œâ”€â”€ lang/                           # è¯­è¨€åŒ…æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ index.js                   # i18nå…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ zh-cn/                     # ä¸­æ–‡è¯­è¨€åŒ…
â”‚   â”‚   â”œâ”€â”€ common.js              # å…¬å…±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user.js                # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â””â”€â”€ ...                    # å…¶ä»–æ¨¡å—
â”‚   â””â”€â”€ en-us/                     # è‹±æ–‡è¯­è¨€åŒ…(translateå‘½ä»¤ç”Ÿæˆ)
â”‚       â”œâ”€â”€ common.js
â”‚       â””â”€â”€ ...
â”œâ”€â”€ i18n-extracted-*.json          # æå–çš„åŸå§‹æ•°æ®
â”œâ”€â”€ translation-template.txt       # ç¿»è¯‘å¯¹ç…§æ¨¡æ¿
â”œâ”€â”€ pending-tasks-*.md             # å¾…å¤„ç†ä»»åŠ¡æŠ¥å‘Š
â””â”€â”€ validation-report.md           # éªŒè¯æŠ¥å‘Š
```

## æŠ€æœ¯æ ˆ

- Node.js >= 14.0.0
- @babel/parser - JS/Vueæ–‡ä»¶è§£æ
- vue-template-compiler - Vueæ¨¡æ¿è§£æ
- commander - å‘½ä»¤è¡Œæ¡†æ¶
- inquirer - äº¤äº’å¼å‘½ä»¤è¡Œ

## License

MIT

## æ›´æ–°æ—¥å¿—

### v1.0.0

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒVue2é¡¹ç›®ä¸­æ–‡è‡ªåŠ¨æå–å’Œè½¬æ¢
- æ”¯æŒElement UIå¤šè¯­è¨€é…ç½®
- æ”¯æŒå¤šè¯­è¨€åŒ…ç”Ÿæˆ
- æ”¯æŒè½¬æ¢éªŒè¯

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ç›¸å…³é¡¹ç›®

- [vue-i18n](https://github.com/kazupon/vue-i18n) - Vue.jså›½é™…åŒ–æ’ä»¶
- [element-ui](https://github.com/ElemeFE/element) - Vue2 UIç»„ä»¶åº“
